webpackJsonp([1],{"+alF":function(e,t){},"/wDT":function(e,t){},"1IsX":function(e,t){},"1pIK":function(e,t){},"2yBH":function(e,t){},"4fVJ":function(e,t){},"4laI":function(e,t){},"7Ftq":function(e,t){},"8+28":function(e,t){},CPfh:function(e,t){},M91t:function(e,t){},"Mz+u":function(e,t){},NHnr:function(e,t,n){"use strict";function a(e){n("2yBH")}function s(e){n("YCSq")}function r(e){n("ZObe")}function i(e){n("NuLS")}function o(e){n("7Ftq"),n("WO8R")}function l(e){n("eDho")}function c(e){n("vIDd")}function u(e){n("tkFK")}function d(e){return new ve.a(function(t,n){var a=new FileReader;a.onload=function(e){return t(e.target.result)},a.readAsDataURL(e)})}function m(e){n("pHHQ")}function p(e){n("Mz+u")}function v(e){n("/wDT")}function f(e){n("1pIK")}function h(e){n("gHq+")}function _(e){n("M91t")}function g(){return{subjectId:"",galleryName:"",image:""}}function b(e){n("Pr58")}function y(e){n("r0jC")}function C(e){n("8+28")}function j(e){n("RSa9")}function k(e){n("wIEH")}function w(e){n("gR6Y")}function E(e){n("CPfh")}function I(e){n("4fVJ")}function x(e){n("4laI")}function S(e){n("1IsX")}function L(e){n("aXkY")}function A(e){n("WtjN")}function G(e){n("+alF")}Object.defineProperty(t,"__esModule",{value:!0});var N,R=n("7+uW"),O=n("9JMe"),D=n("Dd8w"),$=n.n(D),T=n("NYxO"),F={data:function(){return{isOpen:!1}},methods:{toggle:function(e){this.isOpen=void 0===e?!this.isOpen:e},closeByClick:function(e){this.isOpen&&!this.$refs.dropdown.contains(e.target)&&this.toggle(!1)}},created:function(){this.closeByClick=this.closeByClick.bind(this),window.addEventListener("mousedown",this.closeByClick)},destroyed:function(){window.removeEventListener("mousedown",this.closeByClick)}},P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"dropdown",staticClass:"Dropdown"},[n("div",{staticClass:"Dropdown__opener",on:{click:function(t){t.preventDefault(),e.toggle(!0)}}},[e._t("opener")],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"Dropdown__menu",on:{click:function(t){e.toggle(!1)}}},[e._t("content")],2)])},z=[],U={render:P,staticRenderFns:z},V=U,M=n("VU/8"),H=a,q=M(F,V,!1,H,"data-v-25733b39",null),K=q.exports,B={props:{name:{type:String,required:!0}}},W=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"Icon fa",class:["fa-"+e.name]})},Y=[],X={render:W,staticRenderFns:Y},J=X,Q=n("VU/8"),Z=s,ee=Q(B,J,!1,Z,"data-v-9c635b0a",null),te=ee.exports,ne={components:{Icon:te,Dropdown:K},props:{},data:function(){return{isAuthDropdownOpen:!1}},computed:$()({},Object(T.c)("console",["galleries","appAuth"]),{galleryName:function(){return this.$store.state.route.params.galleryName}}),methods:{toggleAuthDropdown:function(){this.isAuthDropdownOpen=!this.isAuthDropdownOpen},clearAppAuth:function(){this.$router.push({name:"login"}),this.$store.dispatch("console/clearAppAuth")},closeOnClickWhenOpen:function(){this.isAuthDropdownOpen&&(this.isAuthDropdownOpen=!1)},selectGallery:function(e){e?this.$router.push({name:"gallery",params:{galleryName:e}}):this.$router.push({name:"new"})}},created:function(){this.closeOnClickWhenOpen=this.closeOnClickWhenOpen.bind(this),window.addEventListener("mousedown",this.closeOnClickWhenOpen)},destroyed:function(){window.removeEventListener("mousedown",this.closeOnClickWhenOpen)}},ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TheSidebar d-flex flex-column"},[n("router-link",{staticClass:"TheSidebar__logo",attrs:{to:{name:"console"}}},[n("img",{staticClass:"TheSidebar__logo-image",attrs:{src:"//www-cdn.kairos.com/images/kairos-logo-icon-white-rgb2.png",alt:""}})]),e._v(" "),n("hr",{staticClass:"TheSidebar__separator"}),e._v(" "),n("div",{staticClass:"TheSidebar__gallery"},[n("div",{staticClass:"TheSidebar__gallery-name"},[e._v("\n      "+e._s(e.galleryName||"New gallery")+"\n    ")]),e._v(" "),n("div",{staticClass:"TheSidebar__arrow"},[n("Icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("select",{staticClass:"TheSidebar__gallery-select",domProps:{value:e.galleryName},on:{input:function(t){e.selectGallery(t.target.value)}}},[e._l(e.galleries,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}),e._v(" "),n("option",{attrs:{disabled:""}},[e._v("──────────")]),e._v(" "),n("option",{attrs:{value:""}},[e._v("New gallery")])],2)]),e._v(" "),n("hr",{staticClass:"TheSidebar__separator"}),e._v(" "),e.galleryName?n("div",[n("router-link",{staticClass:"TheSidebar__link",attrs:{to:{name:"gallery"}}},[e._v("\n      List subjects\n    ")]),e._v(" "),n("router-link",{staticClass:"TheSidebar__link",attrs:{to:{name:"enroll"}}},[e._v("\n      Enroll\n    ")]),e._v(" "),n("router-link",{staticClass:"TheSidebar__link",attrs:{to:{name:"recognize"}}},[e._v("\n      Recognize\n    ")]),e._v(" "),n("router-link",{staticClass:"TheSidebar__link",attrs:{to:{name:"settings"}}},[e._v("\n      Settings\n    ")])],1):e._e(),e._v(" "),e.appAuth?n("div",{staticClass:"mt-auto mb-3"},[n("a",{staticClass:"TheSidebar__link",attrs:{href:""},on:{click:function(t){t.preventDefault(),e.clearAppAuth()}}},[e._v("\n      Logout\n    ")])]):e._e()],1)},se=[],re={render:ae,staticRenderFns:se},ie=re,oe=n("VU/8"),le=r,ce=oe(ne,ie,!1,le,"data-v-26b17c20",null),ue=ce.exports,de=n("Gu7T"),me=n.n(de),pe=n("//Fk"),ve=n.n(pe),fe=n("DlMc"),he=n.n(fe),_e={$bus:new R.default,open:function(e,t){var n=this;return new ve.a(function(a,s){var r={id:he.a.v4(),component:e,data:t,resolve:a};n.$bus.$emit("open",r)})}},ge={data:function(){return{modals:[]}},methods:{close:function(e,t){e.resolve(t),this.remove(e)},add:function(e){this.modals=[].concat(me()(this.modals),[e])},remove:function(e){this.modals=this.modals.filter(function(t){return t!=e})}},created:function(){var e=this;_e.$bus.$on("open",function(t){e.add(t)})}},be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TheModalsStack"},[e.modals.length?n("div",{staticClass:"TheModalsStack__backdrop"}):e._e(),e._v(" "),n("div",{staticClass:"TheModalsStack__modals"},e._l(e.modals,function(t){return n(t.component,{key:t.id,tag:"component",attrs:{data:t.data},on:{close:function(n){e.close(t,n)}}})}))])},ye=[],Ce={render:be,staticRenderFns:ye},je=Ce,ke=n("VU/8"),we=i,Ee=ke(ge,je,!1,we,"data-v-564738b1",null),Ie=Ee.exports,xe={components:{TheSidebar:ue,TheModalsStack:Ie},computed:$()({},Object(T.c)("console",["appAuth"]))},Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"App"},[e.appAuth?n("TheSidebar",{staticClass:"App__sidebar"}):e._e(),e._v(" "),n("router-view",{staticClass:"App__content"}),e._v(" "),n("TheModalsStack")],1)},Le=[],Ae={render:Se,staticRenderFns:Le},Ge=Ae,Ne=n("VU/8"),Re=o,Oe=Ne(xe,Ge,!1,Re,"data-v-e02ae7a0",null),De=Oe.exports,$e=n("bOdI"),Te=n.n($e),Fe=n("Xxa5"),Pe=n.n(Fe),ze=n("exGp"),Ue=n.n(ze),Ve=n("d7EF"),Me=n.n(Ve),He=n("Zrlr"),qe=n.n(He),Ke=n("wxAW"),Be=n.n(Ke),We=n("mtWM"),Ye=n.n(We),Xe=function(){function e(t){qe()(this,e),this._apiBaseUrl="https://api.kairos.com",this._config={},this._config=$()({},this._config,t)}return Be()(e,[{key:"setAuth",value:function(e,t){this._config.appId=e,this._config.appKey=t}},{key:"clearAuth",value:function(){this._config.appId=null,this._config.appKey=null}},{key:"_makeApiCall",value:function(e,t,n){var a=this;return new ve.a(function(s,r){if(!a._config.appId)return console.error("Kairos: appId is not provided"),null;if(!a._config.appKey)return console.error("Kairos: appKey is not provided"),null;var i=a._apiBaseUrl+"/"+t,o={method:e,url:i,data:n,headers:{app_id:a._config.appId,app_key:a._config.appKey}};Ye()(o).then(function(e){return e.data}).then(function(e){e.Errors?r(e.Errors[0].Message):s(e)}).catch(function(e){r("Connection error")})})}},{key:"enroll",value:function(e,t,n){return this._makeApiCall("POST","enroll",{gallery_name:e,subject_id:t,image:n})}},{key:"verify",value:function(e,t,n){return this._makeApiCall("POST","verify",{gallery_name:e,subject_id:t,image:n})}},{key:"recognize",value:function(e,t){return this._makeApiCall("POST","recognize",{gallery_name:e,image:t})}},{key:"detect",value:function(e){return this._makeApiCall("POST","detect",{image:e,selector:"ROLL"})}},{key:"listAllGalleries",value:function(){return this._makeApiCall("POST","gallery/list_all").then(function(e){return e.gallery_ids})}},{key:"viewGallery",value:function(e){var t={gallery_name:e};return this._makeApiCall("POST","gallery/view",t).then(function(e){return e.subject_ids})}},{key:"viewSubject",value:function(e,t){return this._makeApiCall("POST","gallery/view_subject",{gallery_name:e,subject_id:t})}},{key:"removeGallery",value:function(e){return this._makeApiCall("POST","gallery/remove",{gallery_name:e})}},{key:"removeGallerySubject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._makeApiCall("POST","gallery/remove_subject",{gallery_name:e,subject_id:t,face_id:n})}},{key:"viewGallerySubject",value:function(e,t){return this._makeApiCall("POST","gallery/view_subject",{gallery_name:e,subject_id:t})}}]),e}(),Je=Xe,Qe=new Je,Ze=n("mvHQ"),et=n.n(Ze),tt={setItem:function(e,t){localStorage.setItem(e,et()(t))},getItem:function(e){return JSON.parse(localStorage.getItem(e))},removeItem:function(e){localStorage.removeItem(e)}},nt={LOADING_GALLERIES_LIST_SET:"LOADING_GALLERIES_LIST_SET",LOADING_GALLERY_SET:"LOADING_GALLERY_SET",GALLERIES_LOADED:"GALLERIES_LOADED",GALLERY_LOADED:"GALLERY_LOADED",APP_AUTH_CHANGED:"APP_AUTH_CHANGED"},at={appAuth:null,isLoadingGalleries:!1,isLoadingGallery:!1,galleries:[],selectedGallery:null},st={init:function(e){var t=e.dispatch,n=tt.getItem("appAuth");n&&t("setAppAuth",[n.appId,n.appKey])},setAppAuth:function(e,t){var n=e.commit,a=Me()(t,3),s=a[0],r=a[1],i=a[2],o={appId:s,appKey:r};Qe.setAuth(s,r),i&&tt.setItem("appAuth",o),n(nt.APP_AUTH_CHANGED,{appAuth:o})},clearAppAuth:function(e){var t=e.commit;Qe.clearAuth(),tt.removeItem("appAuth");t(nt.APP_AUTH_CHANGED,{appAuth:null})},loadGalleries:function(e){var t=this,n=e.commit;e.dispatch;return Ue()(Pe.a.mark(function e(){var a;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(nt.LOADING_GALLERIES_LIST_SET,!0),e.next=3,Qe.listAllGalleries();case 3:return a=e.sent,n(nt.GALLERIES_LOADED,{galleries:a}),n(nt.LOADING_GALLERIES_LIST_SET,!1),e.abrupt("return",a);case 7:case"end":return e.stop()}},e,t)}))()},selectGallery:function(e,t){var n=this,a=e.commit;return Ue()(Pe.a.mark(function e(){var s;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(nt.LOADING_GALLERY_SET,!0),e.next=3,Qe.viewGallery(t);case 3:s=e.sent,a(nt.GALLERY_LOADED,{gallery:s}),a(nt.LOADING_GALLERY_SET,!1);case 6:case"end":return e.stop()}},e,n)}))()}},rt=(N={},Te()(N,nt.LOADING_GALLERIES_LIST_SET,function(e,t){e.isLoadingGalleries=t}),Te()(N,nt.GALLERIES_LOADED,function(e,t){var n=t.galleries;e.galleries=n}),Te()(N,nt.LOADING_GALLERY_SET,function(e,t){e.isLoadingGallery=t}),Te()(N,nt.GALLERY_LOADED,function(e,t){var n=t.gallery;e.selectedGallery=n}),Te()(N,nt.APP_AUTH_CHANGED,function(e,t){var n=t.appAuth;e.appAuth=n}),N),it={isAuth:function(e){return e.appAuth&&e.appAuth.appId&&e.appAuth.appKey}},ot={namespaced:!0,state:at,actions:st,mutations:rt,getters:it},lt=n("W2nU"),ct=lt.env;R.default.use(T.a);var ut=new T.a.Store({strict:"production"!==ct.NODE_ENV,actions:{init:function(){}},getters:{},modules:{console:ot}}),dt=ut,mt=n("/ocq"),pt={components:{},props:{value:{type:Boolean}},methods:{change:function(e){this.$emit("input",e.target.checked)}}},vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"Checkbox custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:e.change}}),e._v(" "),n("span",{staticClass:"custom-control-indicator"}),e._v(" "),e.$slots.default?n("span",{staticClass:"custom-control-label"},[e._t("default")],2):e._e()])},ft=[],ht={render:vt,staticRenderFns:ft},_t=ht,gt=n("VU/8"),bt=l,yt=gt(pt,_t,!1,bt,"data-v-04eca740",null),Ct=yt.exports,jt={components:{Checkbox:Ct},props:{},data:function(){return{appId:"",appKey:"",remember:!1}},computed:{},methods:{submit:function(){this.$store.dispatch("console/setAppAuth",[this.appId,this.appKey,this.remember]),this.$router.push({name:"console"})}}},kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"LoginScreen py-5"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 mx-auto"},[n("div",{staticClass:"card rounded p-4"},[n("form",{staticClass:"form",on:{submit:function(t){t.preventDefault(),e.submit()}}},[n("h1",{staticClass:"h4 text-center mb-4"},[e._v("\n              Enter app credentials\n            ")]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("App ID")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.appId,expression:"appId"}],staticClass:"form-control",attrs:{type:"text",name:"app_id",required:""},domProps:{value:e.appId},on:{input:function(t){t.target.composing||(e.appId=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[e._v("App Key")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.appKey,expression:"appKey"}],staticClass:"form-control",attrs:{type:"password",name:"app_key",required:""},domProps:{value:e.appKey},on:{input:function(t){t.target.composing||(e.appKey=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[n("Checkbox",{model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("\n                  Remember credentials\n                ")])],1)]),e._v(" "),e._m(0)])]),e._v(" "),e._m(1)])])])])},wt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-4"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[e._v("\n                Enter console\n              ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center mt-2"},[e._v("\n          Get your "),n("a",{attrs:{href:"https://developer.kairos.com/admin"}},[e._v("API keys")]),e._v(" on "),n("a",{attrs:{href:"https://kairos.com",target:"_blank"}},[e._v("kairos.com")]),e._v(".\n        ")])}],Et={render:kt,staticRenderFns:wt},It=Et,xt=n("VU/8"),St=c,Lt=xt(jt,It,!1,St,"data-v-58c6f16f",null),At=Lt.exports,Gt={props:["small","large","white"],computed:{modifiers:function(){return{isLarge:void 0!==this.large,isSmall:void 0!==this.small,isWhite:void 0!==this.white}}}},Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"LoadingIcon",class:e.modifiers},[n("div",{staticClass:"LoadingIcon__icon"}),e._v(" "),e.$slots.default?n("div",{staticClass:"LoadingIcon__text"},[e._t("default")],2):e._e()])},Rt=[],Ot={render:Nt,staticRenderFns:Rt},Dt=Ot,$t=n("VU/8"),Tt=u,Ft=$t(Gt,Dt,!1,Tt,"data-v-518768f1",null),Pt=Ft.exports,zt=n("c/Tr"),Ut=n.n(zt),Vt={props:{multiple:{type:Boolean,default:!1}},methods:{select:function(){this.$refs.input.click()}},mounted:function(){var e=this;this.$refs.input.addEventListener("change",function(t){var n=Ut()(t.target.files);t.target.value=null,e.multiple||(n=n[0]),e.$emit("select",n)})}},Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"FilePicker",attrs:{type:"button"},on:{click:function(t){e.select()}}},[n("input",{ref:"input",staticClass:"FilePicker__input",attrs:{type:"file",tabindex:"-1",multiple:e.multiple}}),e._v(" "),e._t("default")],2)},Ht=[],qt={render:Mt,staticRenderFns:Ht},Kt=qt,Bt=n("VU/8"),Wt=m,Yt=Bt(Vt,Kt,!1,Wt,"data-v-481b1076",null),Xt=Yt.exports,Jt={methods:{close:function(e){this.$emit("close",e)}},mounted:function(){var e=this;setTimeout(function(){e.$refs.modal.focus()})}},Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"modal",staticClass:"Modal",attrs:{tabindex:"0"},on:{click:function(t){e.close()},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;t.stopPropagation(),e.close()}}},[n("div",{staticClass:"Modal__dialog",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"Modal__closer",on:{click:function(t){e.close()}}},[e._v("\n      ×\n    ")]),e._v(" "),e.$slots.title?n("div",{staticClass:"Modal__header"},[n("div",{staticClass:"Modal__title h4"},[e._t("title")],2)]):e._e(),e._v(" "),e.$slots.content?n("div",{staticClass:"Modal__content"},[e._t("content")],2):e._e(),e._v(" "),e._t("default"),e._v(" "),e.$slots.buttons?n("div",{staticClass:"Modal__footer"},[e._t("buttons")],2):e._e()],2)])},Zt=[],en={render:Qt,staticRenderFns:Zt},tn=en,nn=n("VU/8"),an=p,sn=nn(Jt,tn,!1,an,"data-v-c261ed40",null),rn=sn.exports,on={components:{Icon:te},props:{width:{type:Number,default:320},height:{type:Number,default:240}},data:function(){return{isStreaming:!1,dataUrl:null}},computed:{},methods:{startCamera:function(){var e=this;return Ue()(Pe.a.mark(function t(){var n;return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$refs.video,t.next=3,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 3:e.stream=t.sent,n.srcObject=e.stream,n.play(),e.isStreaming=!0;case 7:case"end":return t.stop()}},t,e)}))()},stopCamera:function(){this.stream&&Ut()(this.stream.getTracks()).forEach(function(e){return e.stop()})},capturePhoto:function(){var e=this.$refs,t=e.canvas,n=e.video;t.getContext("2d").drawImage(n,0,0,this.width,this.height),this.dataUrl=t.toDataURL("image/png"),this.$emit("capture",this.dataUrl)}},mounted:function(){this.startCamera()},destroyed:function(){this.stopCamera()}},ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"CameraCapture"},[n("canvas",{ref:"canvas",staticClass:"CameraCapture__canvas",attrs:{width:e.width,height:e.height}}),e._v(" "),n("div",{staticClass:"CameraCapture__content"},[n("video",{ref:"video",staticClass:"CameraCapture__video"},[e._v("Video stream not available.")]),e._v(" "),n("div",{staticClass:"CameraCapture__buttons"},[n("button",{staticClass:"btn btn-lg CameraCapture__button",attrs:{type:"button",disabled:!e.isStreaming},on:{click:function(t){e.capturePhoto()}}},[n("Icon",{attrs:{name:"camera"}})],1)])])])},cn=[],un={render:ln,staticRenderFns:cn},dn=un,mn=n("VU/8"),pn=v,vn=mn(on,dn,!1,pn,"data-v-5fdcd8f0",null),fn=vn.exports,hn={components:{Modal:rn,CameraCapture:fn},props:{},data:function(){return{}},computed:{},methods:{close:function(e){this.$emit("close",e)}}},_n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{staticClass:"CameraCaptureModal",on:{close:function(t){e.close()}}},[n("CameraCapture",{staticClass:"CameraCaptureModal__camera",on:{capture:function(t){e.close(t)}}})],1)},gn=[],bn={render:_n,staticRenderFns:gn},yn=bn,Cn=n("VU/8"),jn=f,kn=Cn(hn,yn,!1,jn,"data-v-326ad8c2",null),wn=kn.exports,En={components:{},abstract:!0,props:{accept:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:function(){return{isActive:!1}},methods:{getElement:function(){return this.fullscreen?document.body:this.$el}},mounted:function(){var e=this,t=this.getElement();if(t){t.classList.add("Dropzone"),t.addEventListener("dragenter",function(e){e.preventDefault(),t.classList.add("Dropzone--is-active")}),t.addEventListener("dragover",function(e){e.dataTransfer.dropEffect="copy",e.preventDefault(),t.classList.add("Dropzone--is-active")}),t.addEventListener("dragleave",function(e){e.preventDefault(),t.classList.remove("Dropzone--is-active")}),t.addEventListener("drop",function(n){n.preventDefault(),n.stopPropagation();var a=Ut()(n.dataTransfer.files);e.accept&&e.accept.length&&(a=a.filter(function(t){return e.accept.includes(t.type)})),t.classList.remove("Dropzone--is-active"),a.length&&(e.multiple||(a=a[0]),e.$emit("drop",a))})}},render:function(){try{return this.$slots.default[0]}catch(e){if(this.fullscreen)return null;throw"Dropzone.vue missing child element"}}},In=n("VU/8"),xn=In(En,null,!1,null,null,null),Sn=xn.exports,Ln={components:{FilePicker:Xt,Icon:te,dropzone:Sn},props:{value:{type:String}},data:function(){return{isCapturingImage:!1}},computed:{},methods:{takePhoto:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,_e.open(wn);case 3:t.t1=t.sent,t.t0.onChange.call(t.t0,t.t1);case 5:case"end":return t.stop()}},t,e)}))()},readFile:function(e){var t=this;return Ue()(Pe.a.mark(function n(){return Pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t,n.next=3,d(e);case 3:n.t1=n.sent,n.t0.onChange.call(n.t0,n.t1);case 5:case"end":return n.stop()}},n,t)}))()},onChange:function(e){e&&this.$emit("input",e)}}},An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dropzone",{on:{drop:function(t){e.readFile(t)}}},[n("div",{staticClass:"ImagePicker form-control"},[e.value&&!e.isCapturingImage?n("img",{staticClass:"ImagePicker__image",attrs:{src:e.value}}):e._e(),e._v(" "),n("div",{staticClass:"ImagePicker__buttons"},[n("FilePicker",{staticClass:"btn btn-lg btn-outline-secondary mx-1",on:{select:function(t){e.readFile(t)}}},[n("Icon",{attrs:{name:"upload"}}),e._v(" Upload image\n      ")],1),e._v(" "),n("button",{staticClass:"btn btn-lg btn-outline-secondary mx-1",attrs:{type:"button"},on:{click:function(t){e.takePhoto()}}},[n("Icon",{attrs:{name:"camera"}}),e._v(" Take a photo\n      ")],1)],1)])])},Gn=[],Nn={render:An,staticRenderFns:Gn},Rn=Nn,On=n("VU/8"),Dn=h,$n=On(Ln,Rn,!1,Dn,"data-v-78823662",null),Tn=$n.exports,Fn={components:{LoadingIcon:Pt,ImagePicker:Tn},props:{},data:function(){return{image:null,galleries:null}},computed:$()({},Object(T.c)("console",["isLoadingGalleries"])),methods:$()({},Object(T.b)("console",["loadGalleries"]),{selectFirstOrCreateNew:function(){this.galleries.length?this.$router.replace({name:"gallery",params:{galleryName:this.galleries[0]}}):this.$router.replace({name:"new"})}}),created:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadGalleries();case 2:e.galleries=t.sent,e.selectFirstOrCreateNew();case 4:case"end":return t.stop()}},t,e)}))()},watch:{$route:function(e,t){"/"===e.path&&this.selectFirstOrCreateNew()}}},Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ConsoleScreen"},[e.isLoadingGalleries?n("div",{key:"loading",staticClass:"d-flex justify-content-center p-5"},[n("LoadingIcon",{attrs:{large:!0}})],1):e._e(),e._v(" "),n("router-view",{directives:[{name:"show",rawName:"v-show",value:!e.isLoadingGalleries,expression:"! isLoadingGalleries"}]})],1)},zn=[],Un={render:Pn,staticRenderFns:zn},Vn=Un,Mn=n("VU/8"),Hn=_,qn=Mn(Fn,Vn,!1,Hn,"data-v-5a8ef26c",null),Kn=qn.exports,Bn=n("fZjL"),Wn=n.n(Bn),Yn={name:"new-gallery-form",components:{ImagePicker:Tn},props:{disabled:{type:Boolean}},data:function(){return{person:g(),errors:{}}},methods:{validate:function(){var e={};return this.person.subjectId||(e.subjectId=!0),this.person.galleryName||(e.galleryName=!0),this.person.image||(e.image=!0),{errors:e,isValid:0===Wn()(e).length}},submit:function(){if(!this.disabled){var e=this.validate(),t=e.errors,n=e.isValid;this.errors=t,n&&this.$emit("submit",$()({},this.person))}}}},Xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){t.preventDefault(),e.submit()}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Gallery name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.person.galleryName,expression:"person.galleryName"}],staticClass:"form-control",class:{"is-invalid":e.errors.galleryName},attrs:{type:"text",placeholder:"Name of your new galery"},domProps:{value:e.person.galleryName},on:{input:function(t){t.target.composing||e.$set(e.person,"galleryName",t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("p",{staticClass:"alert alert-info"},[e._v("\n    To create a new gallery, you also need to upload a photo of first subject.\n  ")]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Name of the person")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.person.subjectId,expression:"person.subjectId"}],staticClass:"form-control",class:{"is-invalid":e.errors.subjectId},attrs:{type:"text",placeholder:"Enter full name of the person to enroll"},domProps:{value:e.person.subjectId},on:{input:function(t){t.target.composing||e.$set(e.person,"subjectId",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Image")]),e._v(" "),n("ImagePicker",{class:{"is-invalid":e.errors.image},attrs:{value:e.person.image},on:{input:function(t){e.person.image=t}}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-lg btn-primary px-5",attrs:{type:"submit",disabled:e.disabled}},[e._v("\n      Create gallery\n    ")])])])},Jn=[],Qn={render:Xn,staticRenderFns:Jn},Zn=Qn,ea=n("VU/8"),ta=b,na=ea(Yn,Zn,!1,ta,"data-v-5584983e",null),aa=na.exports,sa={components:{NewGalleryForm:aa},props:{},data:function(){return{isSubmitting:!1,responseError:""}},computed:$()({},Object(T.c)("console",["galleries"])),methods:{submit:function(e){var t=this;return Ue()(Pe.a.mark(function n(){return Pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isSubmitting){n.next=2;break}return n.abrupt("return");case 2:return t.responseError=null,t.isSubmitting=!0,n.prev=4,n.next=7,Qe.enroll(e.galleryName,e.subjectId,e.image);case 7:t.$router.push({name:"gallery",params:{galleryName:e.galleryName}}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(4),t.responseError=n.t0,t.isSubmitting=!1;case 14:case"end":return n.stop()}},n,t,[[4,10]])}))()}}},ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"NewGalleryScreen p-4"},[n("h1",[e._v("\n    Create new gallery\n  ")]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"wrapper"},[e.responseError?n("div",{staticClass:"text-danger"},[e._v("\n      "+e._s(e.responseError)+"\n    ")]):e._e(),e._v(" "),n("NewGalleryForm",{attrs:{disabled:e.isSubmitting},on:{submit:function(t){e.submit(t)}}})],1)])},ia=[],oa={render:ra,staticRenderFns:ia},la=oa,ca=n("VU/8"),ua=y,da=ca(sa,la,!1,ua,"data-v-20e14c68",null),ma=da.exports,pa={components:{},props:{value:!0,isInvalid:{type:Boolean,default:!1},galleries:{type:Array,default:[]}},data:function(){return{isCustomNameInputVisible:!1,newGalleryOption:"$$NEW$$",selectedGallery:""}},computed:{},methods:{selectGallery:function(e){var t=this;e===this.newGalleryOption?(this.isCustomNameInputVisible=!0,this.$emit("input",""),this.$nextTick(function(){t.$refs.input.focus()})):(this.isCustomNameInputVisible=!1,this.$emit("input",e))}},watch:{value:function(){this.galleries.length&&this.galleries.includes(this.value)&&(this.selectedGallery=this.value)}}},va=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GallerySelector"},[e._l(e.galleries,function(t){return e.galleries.length?n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGallery,expression:"selectedGallery"}],staticClass:"form-control custom-select",class:{"is-invalid":e.isInvalid},on:{input:function(t){e.selectGallery(t.target.value)},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedGallery=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v("Select gallery")]),e._v(" "),n("option",{domProps:{value:t}},[e._v(e._s(t))]),e._v(" "),n("option",{attrs:{disabled:""}},[e._v("---")]),e._v(" "),n("option",{domProps:{value:e.newGalleryOption}},[e._v("New gallery")])]):e._e()}),e._v(" "),e.isCustomNameInputVisible||!e.galleries.length?n("input",{ref:"input",staticClass:"form-control mt-2",class:{"is-invalid":e.isInvalid},attrs:{type:"text",placeholder:"Enter name of new gallery"},domProps:{value:e.value},on:{input:function(t){e.$emit("input",t.target.value)}}}):e._e()],2)},fa=[],ha={render:va,staticRenderFns:fa},_a=ha,ga=n("VU/8"),ba=C,ya=ga(pa,_a,!1,ba,"data-v-1571d0a3",null),Ca=ya.exports,ja={components:{ImagePicker:Tn,GallerySelector:Ca},props:{disabled:{type:Boolean,default:!1}},data:function(){return{person:g(),errors:{}}},computed:{},methods:{validate:function(){var e={};return this.person.subjectId||(e.subjectId=!0),this.person.image||(e.image=!0),{errors:e,isValid:0===Wn()(e).length}},submit:function(){if(!this.disabled){var e=this.validate(),t=e.errors,n=e.isValid;this.errors=t,n&&this.$emit("submit",$()({},this.person))}}}},ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"EnrollForm form",on:{submit:function(t){t.preventDefault(),e.submit()}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Name of the person")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.person.subjectId,expression:"person.subjectId"}],staticClass:"form-control",class:{"is-invalid":e.errors.subjectId},attrs:{type:"text",placeholder:"Enter full name of the person to enroll"},domProps:{value:e.person.subjectId},on:{input:function(t){t.target.composing||e.$set(e.person,"subjectId",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Image")]),e._v(" "),n("ImagePicker",{class:{"is-invalid":e.errors.image},attrs:{value:e.person.image},on:{input:function(t){e.person.image=t}}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"submit",disabled:e.disabled}},[e._v("\n      Enroll person\n    ")])])])},wa=[],Ea={render:ka,staticRenderFns:wa},Ia=Ea,xa=n("VU/8"),Sa=j,La=xa(ja,Ia,!1,Sa,"data-v-1d28934a",null),Aa=La.exports,Ga={components:{EnrollForm:Aa},props:{},data:function(){return{responseError:"",isSubmitting:!1}},computed:{selectedGallery:function(){return this.$route.params.galleryName}},methods:$()({},Object(T.b)("console",["loadGalleries"]),{submit:function(e){var t=this;return Ue()(Pe.a.mark(function n(){return Pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.galleryName=t.selectedGallery,!t.isSubmitting){n.next=3;break}return n.abrupt("return");case 3:return t.isSubmitting=!0,t.responseError=null,n.prev=5,n.next=8,Qe.enroll(e.galleryName,e.subjectId,e.image);case 8:return n.next=10,t.loadGalleries();case 10:t.$router.replace({name:"gallery",params:{galleryName:e.galleryName}}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),t.responseError=n.t0,t.isSubmitting=!1;case 17:case"end":return n.stop()}},n,t,[[5,13]])}))()}})},Na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GalleryEnrollScreen p-4"},[n("div",{staticClass:"wrapper"},[n("h1",[e._v("\n      Enroll to gallery\n    ")]),e._v(" "),n("hr"),e._v(" "),e.responseError?n("div",{staticClass:"text-danger"},[e._v("\n      "+e._s(e.responseError)+"\n    ")]):e._e(),e._v(" "),n("EnrollForm",{attrs:{disabled:e.isSubmitting},on:{submit:function(t){e.submit(t)}}})],1)])},Ra=[],Oa={render:Na,staticRenderFns:Ra},Da=Oa,$a=n("VU/8"),Ta=k,Fa=$a(Ga,Da,!1,Ta,"data-v-79083bca",null),Pa=Fa.exports,za={components:{},props:{},data:function(){return{}},computed:{},methods:{},created:function(){}},Ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GalleryScreen"},[n("router-view")],1)},Va=[],Ma={render:Ua,staticRenderFns:Va},Ha=Ma,qa=n("VU/8"),Ka=w,Ba=qa(za,Ha,!1,Ka,"data-v-6d2b9bc7",null),Wa=Ba.exports,Ya={components:{},props:{},data:function(){return{}},computed:{},methods:{}},Xa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GalleryScreen"},[n("router-view")],1)},Ja=[],Qa={render:Xa,staticRenderFns:Ja},Za=Qa,es=n("VU/8"),ts=E,ns=es(Ya,Za,!1,ts,"data-v-4c1fc700",null),as=ns.exports,ss={props:{results:{required:!0,type:Object}},data:function(){return{activeTab:"formated"}},computed:{image:function(){return this.results&&this.results.images[0]}},methods:{selectTab:function(e){this.activeTab=e}}},rs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"RecognitionResults"},[n("div",{staticClass:"nav nav-pills"},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",class:{active:"formated"==e.activeTab},attrs:{href:""},on:{click:function(t){t.preventDefault(),e.selectTab("formated")}}},[e._v("\n        Formated\n      ")])]),e._v(" "),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",class:{active:"raw"==e.activeTab},attrs:{href:""},on:{click:function(t){t.preventDefault(),e.selectTab("raw")}}},[e._v("\n        Raw (full)\n      ")])])]),e._v(" "),n("hr"),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"formated"==e.activeTab,expression:"activeTab == 'formated'"}],staticClass:"RecognitionResults__tab"},["success"==e.image.transaction.status?n("div",{key:"status"},[n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[e._v("\n            Recognized subject\n          ")]),e._v(" "),n("table",{staticClass:"table table-sm"},[n("tbody",[n("tr",[n("th",[e._v("\n                Subject (face ID)\n              ")]),e._v(" "),n("td",{staticClass:"text-right"},[e._v("\n                "+e._s(e.image.transaction.subject_id)+"\n                "),n("span",{staticClass:"text-muted"},[e._v("("+e._s(e.image.transaction.face_id)+")")])])]),e._v(" "),n("tr",[n("th",[e._v("\n                Gallery\n              ")]),e._v(" "),n("td",{staticClass:"text-right"},[e._v("\n                "+e._s(e.image.transaction.gallery_name)+"\n              ")])]),e._v(" "),n("tr",[n("th",[e._v("\n                Confidence\n              ")]),e._v(" "),n("td",{staticClass:"text-right"},[e._v("\n                "+e._s(e.image.transaction.confidence)+"\n              ")])]),e._v(" "),n("tr",[n("th",[e._v("\n                Quality\n              ")]),e._v(" "),n("td",{staticClass:"text-right"},[e._v("\n                "+e._s(e.image.transaction.quality)+"\n              ")])])])])])]),e._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[e._v("\n            Candidates\n          ")]),e._v(" "),n("table",{staticClass:"table table-sm"},[e._m(0),e._v(" "),n("tbody",e._l(e.image.candidates,function(t){return n("tr",{key:t.face_id},[n("td",[e._v("\n                "+e._s(t.subject_id)+"\n                "),n("span",{staticClass:"text-muted"},[e._v("("+e._s(t.face_id)+")")])]),e._v(" "),n("td",{staticClass:"text-right"},[e._v("\n                "+e._s(t.confidence)+"\n              ")])])}))])])])]):n("div",{key:"status"},[e._v("\n      ahoj\n    ")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"raw"==e.activeTab,expression:"activeTab == 'raw'"}],staticClass:"RecognitionResults__tab"},[n("pre",{staticClass:"small border rounded p-3"},[e._v(e._s(e.results))])])])},is=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Subject (face ID)")]),e._v(" "),n("th",{staticClass:"text-right"},[e._v("Confidence")])])])}],os={render:rs,staticRenderFns:is},ls=os,cs=n("VU/8"),us=I,ds=cs(ss,ls,!1,us,"data-v-fa36ab76",null),ms=ds.exports,ps={components:{ImagePicker:Tn,LoadingIcon:Pt,RecognitionResults:ms},props:{},data:function(){return{isSubmitting:!1,image:null,results:null,galleryName:null,error:null}},computed:{},methods:{submit:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.error=null,e.isSubmitting=!0,t.prev=2,t.next=5,Qe.recognize(e.galleryName,e.image);case 5:e.results=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.error=t.t0;case 11:e.isSubmitting=!1;case 12:case"end":return t.stop()}},t,e,[[2,8]])}))()},clear:function(){this.results=null}},created:function(){this.galleryName=this.$route.params.galleryName}},vs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"RecognizeScreen p-4"},[n("div",{staticClass:"wrapper"},[n("h1",[e._v("\n      Recognize face\n    ")]),e._v(" "),n("hr"),e._v(" "),n("form",{staticClass:"form",on:{submit:function(t){t.preventDefault(),e.submit()}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Image to recognize in gallery")]),e._v(" "),n("ImagePicker",{attrs:{value:e.image},on:{input:function(t){e.image=t,e.submit()}}})],1)]),e._v(" "),n("div",{staticClass:"my-4"},[e.isSubmitting?n("LoadingIcon",[e._v("\n        Loading…\n      ")]):e._e(),e._v(" "),e.error?n("p",{staticClass:"text-danger card border p-3"},[e._v("\n        Recognition error: "+e._s(e.error)+"\n      ")]):e._e(),e._v(" "),e.results?n("RecognitionResults",{attrs:{results:e.results}}):e._e()],1)])])},fs=[],hs={render:vs,staticRenderFns:fs},_s=hs,gs=n("VU/8"),bs=x,ys=gs(ps,_s,!1,bs,"data-v-1a424a59",null),Cs=ys.exports,js={components:{ImagePicker:Tn},props:{},data:function(){return{isSubmitting:!1,image:null,results:null}},computed:{},methods:{submit:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSubmitting=!0,t.next=3,Qe.detect(e.image);case 3:e.results=t.sent,e.isSubmitting=!1;case 5:case"end":return t.stop()}},t,e)}))()}},created:function(){}},ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DetectScreen p-4"},[n("div",{staticClass:"wrapper"},[n("form",{staticClass:"form",on:{submit:function(t){t.preventDefault(),e.submit()}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[e._v("Image for detection")]),e._v(" "),n("ImagePicker",{attrs:{value:e.image},on:{input:function(t){e.image=t,e.submit()}}})],1),e._v(" "),n("pre",[e._v("            "+e._s(e.results)+"\n          ")])])])])},ws=[],Es={render:ks,staticRenderFns:ws},Is=Es,xs=n("VU/8"),Ss=S,Ls=xs(js,Is,!1,Ss,"data-v-9f4b95e4",null),As=Ls.exports,Gs={components:{},props:{},data:function(){return{isRemovingGallery:!1}},computed:{galleryName:function(){return this.$store.route.params.galleryName}},methods:{removeGallery:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Remove this gallery?")){t.next=11;break}return e.isRemovingGallery=!0,t.prev=2,t.next=5,Qe.removeGallery(e.galleryName);case 5:e.$router.push({name:"console"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.isRemovingGallery=!1;case 11:case"end":return t.stop()}},t,e,[[2,8]])}))()}}},Ns=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GallerySettingsScreen p-4"},[n("div",{staticClass:"wrapper"},[n("h1",[e._v("\n      Settings\n    ")]),e._v(" "),n("hr"),e._v(" "),n("h2",{staticClass:"h4"},[e._v("Remove this gallery")]),e._v(" "),n("p",[e._v("Remove this gallery with all stored images")]),e._v(" "),n("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:e.isRemovingGallery},on:{click:function(t){e.removeGallery()}}},[e._v("\n      "+e._s(e.isRemovingGallery?"Removing gallery…":"Remove gallery")+"\n    ")])])])},Rs=[],Os={render:Ns,staticRenderFns:Rs},Ds=Os,$s=n("VU/8"),Ts=L,Fs=$s(Gs,Ds,!1,Ts,"data-v-2a88e161",null),Ps=Fs.exports,zs={components:{LoadingIcon:Pt,Icon:te},props:{},data:function(){return{isLoading:!1,gallery:null,isRemoving:{}}},computed:{galleryName:function(){return this.$store.state.route.params.galleryName}},methods:{loadGallery:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Qe.viewGallery(e.galleryName);case 3:e.gallery=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}},t,e)}))()},removeSubject:function(e){var t=this;return Ue()(Pe.a.mark(function n(){return Pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Remove subject "+e+" ?")){n.next=7;break}return t.isRemoving[e]=!0,n.next=4,Qe.removeGallerySubject(t.galleryName,e);case 4:return n.next=6,Qe.viewGallery(t.galleryName);case 6:t.gallery=n.sent;case 7:case"end":return n.stop()}},n,t)}))()}},created:function(){this.loadGallery()}},Us=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GalleryListScreen p-4"},[n("div",{staticClass:"wrapper"},[n("h1",[e._v("\n      List gallery\n    ")]),e._v(" "),n("hr"),e._v(" "),e.isLoading?n("div",{key:"loading"},[n("LoadingIcon")],1):n("div",{key:"loading"},[n("table",{staticClass:"table table-hover table-sm"},[e._m(0),e._v(" "),n("tbody",e._l(e.gallery,function(t){return n("tr",{staticClass:"GalleryScreen__row",class:{"text-muted":e.isRemoving[t]}},[n("td",[n("router-link",{attrs:{to:{name:"subject",params:{galleryName:e.galleryName,subjectId:t}}}},[e._v("\n              "+e._s(t)+"\n            ")])],1),e._v(" "),n("td",{staticClass:"text-right",class:{invisible:e.isRemoving[t]}},[n("div",{staticClass:"GalleryScreen__options"},[n("a",{attrs:{href:""},on:{click:function(n){n.preventDefault(),e.removeSubject(t)}}},[n("Icon",{attrs:{name:"trash"}})],1)])])])}))])])])])},Vs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Subject")]),e._v(" "),n("th")])])}],Ms={render:Us,staticRenderFns:Vs},Hs=Ms,qs=n("VU/8"),Ks=A,Bs=qs(zs,Hs,!1,Ks,"data-v-410ea0fa",null),Ws=Bs.exports,Ys=(n("PJh5"),{components:{LoadingIcon:Pt,Icon:te},props:{},data:function(){return{isLoading:!1,subject:null,removingFaces:{}}},computed:{galleryName:function(){return this.$store.state.route.params.galleryName},subjectId:function(){return this.$store.state.route.params.subjectId}},methods:{loadSubject:function(){var e=this;return Ue()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Qe.viewGallerySubject(e.galleryName,e.subjectId);case 3:e.subject=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}},t,e)}))()},removeFace:function(e){var t=this;return Ue()(Pe.a.mark(function n(){return Pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm("Remove this face?")){n.next=2;break}return n.abrupt("return");case 2:return t.removingFaces[e]=!0,n.next=5,Qe.removeGallerySubject(t.galleryName,t.subjectId,e);case 5:return n.prev=5,n.next=8,t.loadSubject();case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(5),t.$router.replace({name:"gallery",params:{galleryName:t.galleryName}});case 13:delete t.removingFaces[e];case 14:case"end":return n.stop()}},n,t,[[5,10]])}))()}},created:function(){this.loadSubject()}}),Xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GallerySubjectScreen p-4"},[n("div",{staticClass:"wrapper"},[n("h1",[e._v("Subject details")]),e._v(" "),n("hr"),e._v(" "),e.isLoading?n("div",{key:"loading"},[n("LoadingIcon",{attrs:{large:!0}})],1):n("div",{key:"loading"},[n("h1",{staticClass:"h4"},[n("router-link",{attrs:{to:{name:"gallery"}}},[e._v("Gallery")]),e._v(" ›\n        "+e._s(e.subjectId)+"\n      ")],1),e._v(" "),n("table",{staticClass:"table table-hover table-sm"},[e._m(0),e._v(" "),n("tbody",e._l(e.subject.face_ids,function(t){return n("tr",{key:t.face_id},[n("td",[e._v("\n            "+e._s(t.face_id)+"\n          ")]),e._v(" "),n("td",[e._v("\n            "+e._s(t.enrollment_timestamp)+"\n          ")]),e._v(" "),n("td",[n("a",{attrs:{href:""},on:{click:function(n){n.preventDefault(),e.removeFace(t.face_id)}}},[n("Icon",{attrs:{name:"times"}})],1)])])}))])])])])},Js=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Face ID")]),e._v(" "),n("th",[e._v("Timestamp")]),e._v(" "),n("th")])])}],Qs={render:Xs,staticRenderFns:Js},Zs=Qs,er=n("VU/8"),tr=G,nr=er(Ys,Zs,!1,tr,"data-v-47cc92df",null),ar=nr.exports,sr=[{path:"/login",name:"login",component:At,meta:{title:"Kairos console"}},{path:"/",name:"console",component:Kn,meta:{requiresAuth:!0},children:[{path:"new",name:"new",component:ma,meta:{title:"New gallery"}},{path:"gallery/:galleryName",component:Wa,children:[{path:"",component:as,meta:{title:"Gallery list"},children:[{path:"",name:"gallery",component:Ws},{path:"subject/:subjectId",name:"subject",component:ar}]},{path:"recognize",name:"recognize",component:Cs,meta:{title:"Recognize"}},{path:"settings",name:"settings",component:Ps,meta:{title:"Settings"}},{path:"enroll",name:"enroll",component:Pa,meta:{title:"Enroll"}},{path:"detect",name:"detect",component:As,meta:{title:"Detect"}}]},{path:"enroll",name:"new-enroll",component:Pa,meta:{title:"Enroll"}},{path:"detect",name:"new-detect",component:As,meta:{title:"Detect"}}]}],rr=sr;R.default.use(mt.a);var ir=new mt.a({routes:rr});ir.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?dt.getters["console/isAuth"]?n():n({name:"login"}):n()});var or=document.title;ir.beforeEach(function(e,t,n){var a=e.matched.find(function(e){return e.meta.title});document.title=(a?a.meta.title+" | ":"")+or,n()});var lr=ir,cr=n("9mpg"),ur=n.n(cr);dt.dispatch("console/init"),Object(O.sync)(dt,lr),R.default.config.productionTip=!1,R.default.use(ur.a),new R.default({el:"#app",store:dt,router:lr,template:"<App/>",components:{App:De}})},NuLS:function(e,t){},Pr58:function(e,t){},RSa9:function(e,t){},WO8R:function(e,t){},WtjN:function(e,t){},YCSq:function(e,t){},ZObe:function(e,t){},aXkY:function(e,t){},eDho:function(e,t){},"gHq+":function(e,t){},gR6Y:function(e,t){},pHHQ:function(e,t){},r0jC:function(e,t){},tkFK:function(e,t){},uslO:function(e,t,n){function a(e){return n(s(e))}function s(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="uslO"},vIDd:function(e,t){},wIEH:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e45b40a63e6f34f1f584.js.map